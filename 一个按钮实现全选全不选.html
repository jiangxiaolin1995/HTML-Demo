<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>一个按钮实现全选全不选</title>
        <script type="text/javascript" src="jquery-3.1.1.js" ></script>
    </head>
    <body>

        <form>
            你爱好的运动是？<br/>
            <input type="checkbox" name="items" value="足球"/>足球
            <input type="checkbox" name="items" value="篮球"/>篮球
            <input type="checkbox" name="items" value="游泳"/>游泳
            <input type="checkbox" name="items" value="网球"/>网球
            <input type="checkbox" id="CheckAll" />全选/全不选<br />

            <input type="button" id="send" value="提交"/>

        </form>
        <script>
        $(function(){


            // $('#CheckAll').click(function(){
            //     if(this.checked){ //this是指CheckAll
            //         $('[name=items]:checkbox').prop('checked',true);
            //     }else{
            //         $('[name=items]:checkbox').prop('checked',false);
            //     }
            //
            //
            // });
            //改进后 所有的复选框的checked属性的值和控制全选的复选的框的checked属性
            //值是相同的
            $('#CheckAll').click(function(){
                $('[name=items]:checkbox').prop('checked',this.checked);
                //attr换成prop后不会出现一开始选中全选后会选中 全不选后 一开始选中的还在

            });
            // 改进版
            $('[name=items]:checkbox').click(function(){
                var flag=true;
                $('[name=items]:checkbox').each(function(){
                    if(!this.checked){
                        flag = false;
                    }


                });
                $('#CheckAll').prop('checked',flag);

            });
        });
        </script>
    </body>
</html>
